
> iftar-participation-portal@0.1.0 dev
> next dev

⚠ Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /Users/papernpencil/package-lock.json as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles: 
   * /Users/papernpencil/Desktop/Iftar 2026/iftar-participation-portal/package-lock.json

▲ Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://192.168.220.53:3000
- Environments: .env

✓ Starting...
⚠ The "middleware" file convention is deprecated. Please use "proxy" instead. Learn more: https://nextjs.org/docs/messages/middleware-to-proxy
✓ Ready in 585ms
Initializing Prisma Client with Accelerate
prisma:warn In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)
Failed to fetch settings: Error [PrismaClientKnownRequestError]: 
Invalid `__TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$Iftar__2026$2f$iftar$2d$participation$2d$portal$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["prisma"].systemSettings.findUnique()` invocation in
/Users/papernpencil/Desktop/Iftar 2026/iftar-participation-portal/.next/dev/server/chunks/ssr/[root-of-the-server]__3f345915._.js:116:231

  113 } // Default
  114 ;
  115 try {
→ 116     const dbSettings = await __TURBOPACK__imported__module__$5b$project$5d2f$Desktop$2f$Iftar__2026$2f$iftar$2d$participation$2d$portal$2f$lib$2f$prisma$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["prisma"].systemSettings.findUnique(
Error validating datasource `db`: the URL must contain a valid API key
    at <unknown> (app/page.tsx:11:52)
    at async Home (app/page.tsx:11:24)
   9 |   let settings = { registrationOpen: true } // Default
  10 |   try {
> 11 |     const dbSettings = await prisma.systemSettings.findUnique({ where: { id: 'default' } })
     |                                                    ^
  12 |     if (dbSettings) settings = dbSettings
  13 |   } catch (error) {
  14 |     console.error("Failed to fetch settings:", error) {
  code: 'P6001',
  clientVersion: '5.10.2',
  meta: [Object]
}
Error [InvalidDatasourceError]: Error validating datasource `db`: the URL must contain a valid API key
    at prismaClientSingleton (lib/prisma.ts:9:35)
    at module evaluation (lib/prisma.ts:35:49)
    at module evaluation (app/page.tsx:1:1)
    at module evaluation (.next/dev/server/chunks/ssr/[root-of-the-server]__3f345915._.js:277:47)
   7 |     if (url?.startsWith('prisma://')) {
   8 |         console.log('Initializing Prisma Client with Accelerate')
>  9 |         return new PrismaClient().$extends(withAccelerate())
     |                                   ^
  10 |     }
  11 |
  12 |     console.log('Initializing Prisma Client (Standard/Local)') {
  clientVersion: '5.10.2',
  cause: undefined,
  isRetryable: false,
  code: 'P6001'
}
⨯ unhandledRejection: Error [InvalidDatasourceError]: Error validating datasource `db`: the URL must contain a valid API key
    at prismaClientSingleton (lib/prisma.ts:9:35)
    at module evaluation (lib/prisma.ts:35:49)
    at module evaluation (app/page.tsx:1:1)
    at module evaluation (.next/dev/server/chunks/ssr/[root-of-the-server]__3f345915._.js:277:47)
   7 |     if (url?.startsWith('prisma://')) {
   8 |         console.log('Initializing Prisma Client with Accelerate')
>  9 |         return new PrismaClient().$extends(withAccelerate())
     |                                   ^
  10 |     }
  11 |
  12 |     console.log('Initializing Prisma Client (Standard/Local)') {
  clientVersion: '5.10.2',
  cause: undefined,
  isRetryable: false,
  code: 'P6001'
}
⨯ unhandledRejection:  Error [InvalidDatasourceError]: Error validating datasource `db`: the URL must contain a valid API key
    at prismaClientSingleton (lib/prisma.ts:9:35)
    at module evaluation (lib/prisma.ts:35:49)
    at module evaluation (app/page.tsx:1:1)
    at module evaluation (.next/dev/server/chunks/ssr/[root-of-the-server]__3f345915._.js:277:47)
   7 |     if (url?.startsWith('prisma://')) {
   8 |         console.log('Initializing Prisma Client with Accelerate')
>  9 |         return new PrismaClient().$extends(withAccelerate())
     |                                   ^
  10 |     }
  11 |
  12 |     console.log('Initializing Prisma Client (Standard/Local)') {
  clientVersion: '5.10.2',
  cause: undefined,
  isRetryable: false,
  code: 'P6001'
}
 GET / 200 in 1510ms (compile: 1086ms, render: 424ms)
